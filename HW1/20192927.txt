HW1 카드 매칭 게임 보고서
20192927 임규일

개요 : 카드 매칭 게임의 큰 틀은 모든 카드가 뒤집힐 때 가지 차례를 반복하면서 카드를 고르는 것이다. 따라서 게임종료를 조건으로 갖는 while문을 사용해야하며 다음 기능을 구현해야 한다.

필요 기능
1. 카드 랜덤 채우기
2. 입력된 위치의 카드 두 장 보여주기
3. 두 카드가 같으면 뒤집힌 채로 두기
4. 오류처리
5. 차례 바꾸기
6. 점수 세기(7이면 2점)
7. 게임종료 체크
8. 종료 후 두 사람의 점수 출력
여기서 1번과 8번은 while문 밖에서, 2~7번은 while문 안에서 실행된다.

1. 카드 랜덤 채우기
이 게임은 두 가지의 버전이 있으므로 게임시작 전 사용자에게 버전을 입력받는다(1:고정, 2:랜덤). 랜덤 버전이 입력되면 fill_card()함수를 호출하여 카드를 랜덤으로 채운다. 1부터 8까지의 숫자가 각각 2개씩 들어가야 하므로 배열 count[8]의 원소를 0으로 초기화한 다음, 들어간 숫자의 인덱스를 +1 증가시키고 인덱스가 2라면 채워지지 않는다. 이렇게 배열 card[4][4]이 채워지게 된다.

2. 입력된 위치의 카드 두 장 보여주기
좌표를 입력받을 때, 11 22 와 같이 입력받으므로 십의 자리와 일의자리를 분리한 후 x1,y1 x2,y2에 각각 지정해준다. print_card()함수 안에서 이중for문(1)을 돌면서 해당 좌표이면 그 좌표에 해당하는 수를 출력하고 아니면 X를 출력한다.
3. 두 카드가 같으면 뒤집힌 채로 두기
카드 페어를 확인하기 위해 bool형식 temp[4][4]배열을 추가로 만들어 준 후 모든 원소를 false로 초기화한다. card_pair()함수에서 두 개의 카드가 같으면 그 위치에 해당하는 temp의 원소를 true로 바꾸어준다. 그리고 print_card()함수에서 카드를 출력할 때, 해당 좌표의 temp 원소가 true이면 숫자를 출력하고 false이면 기능2 를 따른다.
4. 오류 처리
입력받은 좌표를 bool형식 error_checker()함수에 인자로 넘겨준다. 각각의 좌표가 1 미만 4 이상이면 범위가 벗어났다는 메시지를 출력하고 다시 입력받는다. 또 temp 원소가 true인지를 검사하여 이미 뒤집혀진 카드를 입력하면 메시지를 출력하고 다시 입력받는다.
5. 차례 바꾸기
차례를 나누기 위해 string변수 whosturn을 “P1”으로 초기화 해준다. 그 후 한 사람의 턴이 끝날 때 마다, turn을 상대방으로 교체해준다(turn = “P2”).
6. 점수 세기
점수 변수는 전역 변수로 선언하거나 포인터를 써서 값을 바꿔줘야 한다. 포인터를 사용하면 함수마다 인자를 하나씩 더 받아야 하므로 전역 변수로 p1_score과 p2_score을 선언했다. 그리고 card_pair()함수에서 whosturn변수를 인자로 받고pair가 확인되면 whosturn변수에 해당하는 사람의 스코어를 증가시킨다. 이 때 카드가 7이면 2점을 증가시킨다.
7. 게임 종료 체크
end_checker()함수에서 2중포문을 돌리면서 temp[4][4]가 모두 true로 바뀌었는지 확인한다. 모두 true이면 true를 리턴하고 아니면 false를 리턴한다.
8. 종료 후 두 사람의 점수 출력
게임이 종료되면 전역 변수 p1_score, p2_score을 이용하여 각각의 점수를 출력해주고 프로그램을 종료한다.
